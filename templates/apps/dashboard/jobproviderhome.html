{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90680653-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-90680653-2');
    </script>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <!-- Meta -->
    <meta name="description" content="Responsive Bootstrap 4 Dashboard Template">
    <meta name="author" content="BootstrapDash">


    {% include 'portal/head.html' %}

    <!-- vendor css -->
    <link href="{% static 'seekera/home/lib/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
    <link href="{% static  'seekera/home/lib/ionicons/css/ionicons.min.css' %}" rel="stylesheet">
    <link href="{% static 'seekera/home/lib/typicons.font/typicons.css' %}" rel="stylesheet">
    <link href="{% static 'seekera/home/lib/flag-icon-css/css/flag-icon.min.css' %}" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- ========================= CSS here ========================= -->
    <link rel="stylesheet" href="{% static 'seekera/jobgrid/assets/css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'seekera/jobgrid/assets/css/LineIcons.2.0.css' %}" />
    <link rel="stylesheet" href="{% static 'seekera/jobgrid/assets/css/animate.css' %}" />
    <link rel="stylesheet" href="{% static 'seekera/jobgrid/assets/css/tiny-slider.css' %}" />
    <link rel="stylesheet" href="{% static 'seekera/jobgrid/assets/css/glightbox.min.css' %}" />
    <link rel="stylesheet" href="{% static 'seekera/jobgrid/assets/css/main.css' %}" />
    <link rel="stylesheet" href="{% static 'seekera/jobgrid/assets/css/custom.css' %}" />

    <!-- azia CSS -->
    <link rel="stylesheet" href="{% static 'seekera/home/css/azia2.css' %}">

  </head>
  <body>

    <!-- Section Navigation corrigée -->
<!-- Navigation avec menu hamburger Bootstrap -->
<nav class="navbar navbar-expand-lg az-header">
  <div class="container">
    <!-- Logo et marque -->
    <a class="navbar-brand logo" href="/">
      <img class="logo1" src="{% static 'seekera/jobgrid/assets/images/logo/logo.svg' %}" alt="Logo" style="height: 40px;" />
    </a>

    <!-- Bouton hamburger pour mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Contenu collapsible de la navbar -->
    <div class="collapse navbar-collapse" id="navbarContent">
      <!-- Menu principal (centré) -->
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a href="/postedjob" class="nav-link">
            <i class="typcn typcn-folder"></i>
            <b>Posted Jobs</b>
          </a>
        </li>
        <li class="nav-item">
          <a href="/postjob" class="nav-link">
            <i class="fas fa-plus-circle"></i>
            <b>Add Jobs</b>
          </a>
        </li>
        <li class="nav-item">
          <a href="/selectedcandidate" class="nav-link">
            <i class="typcn typcn-tick"></i>
            <b>Selected Candidates</b>
          </a>
        </li>
        <li class="nav-item">
          <a href="/addreview_pro" class="nav-link">
            <i class="typcn typcn-chart-bar-outline"></i>
            <b>Add Review</b>
          </a>
        </li>
        <li class="nav-item">
          <a href="/managejob" class="nav-link">
            <i class="typcn typcn-cog"></i>
            <b>Manage Jobs</b>
          </a>
        </li>
      </ul>

      <!-- Section droite (notifications et profil) -->
      <div class="d-flex align-items-center az-header-right">
        <!-- Notifications Dropdown -->
        <div class="dropdown me-3">
          <a class="btn btn-link position-relative" href="#" role="button" id="notificationDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="typcn typcn-bell fs-4"></i>
            {% if noti|length > 0 %}
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
              {{ noti|length }}
              <span class="visually-hidden">unread notifications</span>
            </span>
            {% endif %}
          </a>
          <ul class="dropdown-menu dropdown-menu-end notification-dropdown" aria-labelledby="notificationDropdown" style="max-width: 350px; max-height: 400px; overflow-y: auto;">
            <li class="dropdown-header">
              <h6 class="mb-0"><b>Notifications</b></h6>
            </li>
            <li><hr class="dropdown-divider"></li>
            {% for i in noti %}
            <li>
              <a class="dropdown-item" href="/applicantdetails/{{i.sid}}">
                <div class="d-flex align-items-start">
                  <img src="https://media.tenor.com/GGyzIMKUTeEAAAAC/message-notification.gif" alt="notification" class="rounded-circle me-2" style="width: 40px; height: 40px;">
                  <div class="flex-grow-1">
                    <p class="mb-0 small">{{i.name}} applied for the job <strong>{{i.title}}</strong></p>
                    <small class="text-muted">{{i.timestamp}}</small>
                  </div>
                </div>
              </a>
            </li>
            {% empty %}
            <li>
              <span class="dropdown-item-text text-center text-muted">No new notifications</span>
            </li>
            {% endfor %}
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item text-center small text-primary" href="/all-notifications">
                View All Notifications
              </a>
            </li>
          </ul>
        </div>

        <!-- Profile Dropdown -->
        <div class="dropdown">
          {% for i in b %}
          <a class="btn btn-link p-0" href="#" role="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="{{i.photo.url}}" alt="profile" class="rounded-circle" style="width: 40px; height: 40px; object-fit: cover;">
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
            <li class="dropdown-header text-center">
              <img src="{{i.photo.url}}" alt="profile" class="rounded-circle mb-2" style="width: 60px; height: 60px; object-fit: cover;">
              <h6 class="mb-0">{{i.cname}}</h6>
              <small class="text-muted">Job Provider</small>
            </li>
            {% endfor %}
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item" href="/view-provider">
                <i class="typcn typcn-user-outline me-2"></i>
                <b>My Profile</b>
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="/edit-provider">
                <i class="typcn typcn-edit me-2"></i>
                <b>Edit Profile</b>
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="/changep_provider">
                <i class="typcn typcn-cog-outline me-2"></i>
                <b>Change Password</b>
              </a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item text-danger" href="/logout">
                <i class="typcn typcn-power-outline me-2"></i>
                <b>Sign Out</b>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- CSS personnalisé pour améliorer le style -->


<!-- JavaScript pour Bootstrap 5 (si vous utilisez Bootstrap 5) -->
<!-- Si vous utilisez Bootstrap 4, remplacez data-bs-* par data-* -->
<script>
  // Script pour fermer le menu mobile après un clic sur un lien
  document.addEventListener('DOMContentLoaded', function() {
    const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
    const navbarCollapse = document.querySelector('.navbar-collapse');

    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (navbarCollapse.classList.contains('show')) {
          navbarCollapse.classList.remove('show');
        }
      });
    });
  });
</script>


{% include 'includes/myjobs.html' %}

    <script src="{% static 'seekera/home/lib/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'seekera/home/lib/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'seekera/home/lib/ionicons/ionicons.js' %}"></script>
    <script src="{% static 'seekera/home/lib/jquery.flot/jquery.flot.js' %}"></script>
    <script src="{% static 'seekera/home/lib/jquery.flot/jquery.flot.resize.js' %}"></script>
    <script src="{% static 'seekera/home/lib/chart.js/Chart.bundle.min.js' %}"></script>
    <script src="{% static 'seekera/home/lib/peity/jquery.peity.min.js' %}"></script>

    <script src="{% static 'seekera/home/js/azia.js' %}"></script>
    <script src="{% static 'seekera/home/js/chart.flot.sampledata.js' %}"></script>
    <script src="{% static 'seekera/home/js/dashboard.sampledata.js' %}"></script>
    <script src="{% static 'seekera/home/js/cookie.js' %}" type="text/javascript"></script>
    <script>
      $(function(){
        'use strict'

    		var plot = $.plot('#flotChart', [{
          data: flotSampleData3,
          color: '#007bff',
          lines: {
            fillColor: { colors: [{ opacity: 0 }, { opacity: 0.2 }]}
          }
        },{
          data: flotSampleData4,
          color: '#560bd0',
          lines: {
            fillColor: { colors: [{ opacity: 0 }, { opacity: 0.2 }]}
          }
        }], {
    			series: {
    				shadowSize: 0,
            lines: {
              show: true,
              lineWidth: 2,
              fill: true
            }
    			},
          grid: {
            borderWidth: 0,
            labelMargin: 8
          },
    			yaxis: {
            show: true,
    				min: 0,
    				max: 100,
            ticks: [[0,''],[20,'20K'],[40,'40K'],[60,'60K'],[80,'80K']],
            tickColor: '#eee'
    			},
    			xaxis: {
            show: true,
            color: '#fff',
            ticks: [[25,'OCT 21'],[75,'OCT 22'],[100,'OCT 23'],[125,'OCT 24']],
          }
        });

        $.plot('#flotChart1', [{
          data: dashData2,
          color: '#00cccc'
        }], {
    			series: {
    				shadowSize: 0,
            lines: {
              show: true,
              lineWidth: 2,
              fill: true,
              fillColor: { colors: [ { opacity: 0.2 }, { opacity: 0.2 } ] }
            }
    			},
          grid: {
            borderWidth: 0,
            labelMargin: 0
          },
    			yaxis: {
            show: false,
            min: 0,
            max: 35
          },
    			xaxis: {
            show: false,
            max: 50
          }
    		});

        $.plot('#flotChart2', [{
          data: dashData2,
          color: '#007bff'
        }], {
    			series: {
    				shadowSize: 0,
            bars: {
              show: true,
              lineWidth: 0,
              fill: 1,
              barWidth: .5
            }
    			},
          grid: {
            borderWidth: 0,
            labelMargin: 0
          },
    			yaxis: {
            show: false,
            min: 0,
            max: 35
          },
    			xaxis: {
            show: false,
            max: 20
          }
    		});


        //-------------------------------------------------------------//


        // Line chart
        $('.peity-line').peity('line');

        // Bar charts
        $('.peity-bar').peity('bar');

        // Bar charts
        $('.peity-donut').peity('donut');

        var ctx5 = document.getElementById('chartBar5').getContext('2d');
        new Chart(ctx5, {
          type: 'bar',
          data: {
            labels: [0,1,2,3,4,5,6,7],
            datasets: [{
              data: [2, 4, 10, 20, 45, 40, 35, 18],
              backgroundColor: '#560bd0'
            }, {
              data: [3, 6, 15, 35, 50, 45, 35, 25],
              backgroundColor: '#cad0e8'
            }]
          },
          options: {
            maintainAspectRatio: false,
            tooltips: {
              enabled: false
            },
            legend: {
              display: false,
                labels: {
                  display: false
                }
            },
            scales: {
              yAxes: [{
                display: false,
                ticks: {
                  beginAtZero:true,
                  fontSize: 11,
                  max: 80
                }
              }],
              xAxes: [{
                barPercentage: 0.6,
                gridLines: {
                  color: 'rgba(0,0,0,0.08)'
                },
                ticks: {
                  beginAtZero:true,
                  fontSize: 11,
                  display: false
                }
              }]
            }
          }
        });

        // Donut Chart
        var datapie = {
          labels: ['Search', 'Email', 'Referral', 'Social', 'Other'],
          datasets: [{
            data: [25,20,30,15,10],
            backgroundColor: ['#6f42c1', '#007bff','#17a2b8','#00cccc','#adb2bd']
          }]
        };

        var optionpie = {
          maintainAspectRatio: false,
          responsive: true,
          legend: {
            display: false,
          },
          animation: {
            animateScale: true,
            animateRotate: true
          }
        };

        // For a doughnut chart
        var ctxpie= document.getElementById('chartDonut');
        var myPieChart6 = new Chart(ctxpie, {
          type: 'doughnut',
          data: datapie,
          options: optionpie
        });

      });
    </script>
  </body>
</html>
